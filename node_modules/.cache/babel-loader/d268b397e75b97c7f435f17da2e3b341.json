{"ast":null,"code":"var _jsxFileName = \"/Users/vlad/Desktop/weather/src/WeatherCard.js\";\nimport React, { Component } from 'react';\nimport DrawCard from './DrawCard';\nexport default class WeatherCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      weatherData: null,\n      updateTime: null\n    };\n    this.getWeather = this.getWeather.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchWeather();\n  } // getWeather() {\n  //   const name = this.props.name;\n  //   const apiKey = '5fc73283d7afc0b780eee68e8e3bb82b'\n  //   const URL = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n  //     name +\n  //     \"&lang=ru&units=metric&appid=\" + apiKey;\n  //   fetch(URL).then(res => res.json()).then(json => {\n  //     this.setState({ weatherData: json });\n  //   });\n  //   this.setState({updateTime: new Date()});\n  // }\n\n\n  render() {\n    const weatherData = this.state.weatherData;\n    if (!weatherData) return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435, \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E \\u043F\\u043E\\u0433\\u043E\\u0434\\u0435 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u044E\\u0442\\u0441\\u044F...\");\n    const weather = weatherData.weather[0];\n    const iconUrl = \"http://openweathermap.org/img/w/\" + weather.icon + \".png\";\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(DrawCard, {\n      name: weatherData.name,\n      iconUrl: iconUrl,\n      description: weatherData.description,\n      temp: weatherData.main.temp,\n      main: weather.description[0].toUpperCase() + weather.description.substring(1),\n      time: this.state.updateTime.toLocaleTimeString(),\n      min: weatherData.main.temp_min,\n      max: weatherData.main.temp_max,\n      feelsLike: weatherData.main.feels_like,\n      wind: weatherData.wind.speed,\n      updateF: this.getWeather,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/vlad/Desktop/weather/src/WeatherCard.js"],"names":["React","Component","DrawCard","WeatherCard","constructor","state","weatherData","updateTime","getWeather","bind","componentDidMount","fetchWeather","render","weather","iconUrl","icon","name","description","main","temp","toUpperCase","substring","toLocaleTimeString","temp_min","temp_max","feels_like","wind","speed"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,QAAP,MAAqB,YAArB;AAEA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AACjDG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,UAAU,EAAE;AAFD,KAAb;AAIA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACC;;AAEHC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,YAAL;AACD,GAZgD,CAcjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAAA,MAAM,GAAG;AACP,UAAMN,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAA/B;AAEA,QAAI,CAACA,WAAL,EACA,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wNAAR;AAEA,UAAMO,OAAO,GAAGP,WAAW,CAACO,OAAZ,CAAoB,CAApB,CAAhB;AACA,UAAMC,OAAO,GAAG,qCAAqCD,OAAO,CAACE,IAA7C,GAAoD,MAApE;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,QAAD;AACE,MAAA,IAAI,EAAET,WAAW,CAACU,IADpB;AAEE,MAAA,OAAO,EAAEF,OAFX;AAGE,MAAA,WAAW,EAAER,WAAW,CAACW,WAH3B;AAIE,MAAA,IAAI,EAAEX,WAAW,CAACY,IAAZ,CAAiBC,IAJzB;AAKE,MAAA,IAAI,EAAEN,OAAO,CAACI,WAAR,CAAoB,CAApB,EAAuBG,WAAvB,KAAuCP,OAAO,CAACI,WAAR,CAAoBI,SAApB,CAA8B,CAA9B,CAL/C;AAME,MAAA,IAAI,EAAE,KAAKhB,KAAL,CAAWE,UAAX,CAAsBe,kBAAtB,EANR;AAOE,MAAA,GAAG,EAAEhB,WAAW,CAACY,IAAZ,CAAiBK,QAPxB;AAQE,MAAA,GAAG,EAAEjB,WAAW,CAACY,IAAZ,CAAiBM,QARxB;AASE,MAAA,SAAS,EAAElB,WAAW,CAACY,IAAZ,CAAiBO,UAT9B;AAUE,MAAA,IAAI,EAAEnB,WAAW,CAACoB,IAAZ,CAAiBC,KAVzB;AAWE,MAAA,OAAO,EAAE,KAAKnB,UAXhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADF;AAiBD;;AApDgD","sourcesContent":["import React, {Component} from 'react';\n\nimport DrawCard from './DrawCard'\n\nexport default class WeatherCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      weatherData: null,\n      updateTime: null,\n    };\n    this.getWeather = this.getWeather.bind(this);\n    };\n\n  componentDidMount() {\n    this.fetchWeather();\n  }\n\n  // getWeather() {\n  //   const name = this.props.name;\n  //   const apiKey = '5fc73283d7afc0b780eee68e8e3bb82b'\n  //   const URL = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n  //     name +\n  //     \"&lang=ru&units=metric&appid=\" + apiKey;\n  //   fetch(URL).then(res => res.json()).then(json => {\n  //     this.setState({ weatherData: json });\n  //   });\n  //   this.setState({updateTime: new Date()});\n  // }\n\n  render() {\n    const weatherData = this.state.weatherData;\n\n    if (!weatherData)\n    return (<div>Подождите, данные о погоде загружаются...</div>);\n\n    const weather = weatherData.weather[0];\n    const iconUrl = \"http://openweathermap.org/img/w/\" + weather.icon + \".png\";\n\n    return (\n      <div>\n      <DrawCard\n        name={weatherData.name}\n        iconUrl={iconUrl}\n        description={weatherData.description}\n        temp={weatherData.main.temp}\n        main={weather.description[0].toUpperCase() + weather.description.substring(1)}\n        time={this.state.updateTime.toLocaleTimeString()}\n        min={weatherData.main.temp_min}\n        max={weatherData.main.temp_max}\n        feelsLike={weatherData.main.feels_like}\n        wind={weatherData.wind.speed}\n        updateF={this.getWeather}\n      />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}