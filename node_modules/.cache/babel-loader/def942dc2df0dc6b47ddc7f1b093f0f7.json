{"ast":null,"code":"var _jsxFileName = \"/Users/vlad/Desktop/weather/src/WCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport './index.css';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 345,\n    marginBottom: \"14%\",\n    borderRadius: 25,\n    padding: 10\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  }\n}));\n\nasync function fetchWeather() {\n  const city = cityName;\n  const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n  const responce = await fetch(url);\n  const data = await responce.json();\n  setWeatherData(data);\n  setUpdateTime(new Date().toLocaleTimeString());\n  setLoading(false);\n}\n\nfetchWeather();\nexport default function WCard({\n  city\n}) {\n  const [cityName, setCityName] = useState(city);\n  const [weatherData, setWeatherData] = useState({\n    \"coord\": {\n      \"lon\": 0,\n      \"lat\": 0\n    },\n    \"weather\": [{\n      \"id\": 0,\n      \"main\": \"\",\n      \"description\": \"\",\n      \"icon\": \"\"\n    }],\n    \"base\": \"\",\n    \"main\": {\n      \"temp\": 0,\n      \"feels_like\": 0,\n      \"temp_min\": 0,\n      \"temp_max\": 0,\n      \"pressure\": 0,\n      \"humidity\": 0\n    },\n    \"visibility\": 0,\n    \"wind\": {\n      \"speed\": 0,\n      \"deg\": 0\n    },\n    \"clouds\": {\n      \"all\": 0\n    },\n    \"dt\": 0,\n    \"sys\": {\n      \"type\": 0,\n      \"id\": 0,\n      \"message\": 0,\n      \"country\": \"\",\n      \"sunrise\": 0,\n      \"sunset\": 0\n    },\n    \"timezone\": 0,\n    \"id\": 0,\n    \"name\": \"\",\n    \"cod\": 0\n  });\n  const [updateTime, setUpdateTime] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [expanded, setExpanded] = useState(false);\n  const [loadind, setLoading] = useState(true);\n  const classes = useStyles();\n  useEffect(() => {\n    fetchWeather();\n  }, []); // async function fetchWeather() {\n  //   const city = cityName;\n  //   const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n  //   city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n  //   const responce = await fetch(url);\n  //   const data = await responce.json();\n  //   setWeatherData(data);\n  //   setUpdateTime(new Date().toLocaleTimeString());\n  //   setLoading(false);\n  // }\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDelete = () => {\n    setAnchorEl(null);\n    alert(weatherData.name);\n  };\n\n  const handleExpand = () => {\n    setExpanded(!expanded);\n  };\n\n  if (loadind) return React.createElement(\"div\", {\n    className: \"loader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  });\n  return console.log(\"yes\"), React.createElement(Card, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, weatherData.name), React.createElement(\"div\", {\n    className: \"crutch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, Math.round(weatherData.main.temp), \" \\xB0\\u0421\"), React.createElement(\"img\", {\n    className: \"image\" // src={\"http://openweathermap.org/img/w/\" +\n    //   weatherData.weather[0].icon + \".png\"}\n    // src={require(\"./\" + weatherData.weather[0].icon + \".png\")}\n    ,\n    src: process.env.PUBLIC_URL + '/' + weatherData.weather[0].icon + '.png',\n    alt: weatherData.weather.main,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, weatherData.weather[0].description.charAt(0).toUpperCase() + weatherData.weather[0].description.substring(1)), React.createElement(Typography, {\n    color: \"textSecondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0433\\u043E \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F: \", updateTime)), React.createElement(Collapse, {\n    in: expanded,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"\\u041C\\u0438\\u043D. t: \", Math.round(weatherData.main.temp_min), \" \\xB0\\u0421\"), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"\\u041C\\u0430\\u043A\\u0441. t: \", Math.round(weatherData.main.temp_max), \" \\xB0\\u0421\"), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"\\u041E\\u0449\\u0443\\u0449\\u0430\\u0435\\u0442\\u0441\\u044F \\u043A\\u0430\\u043A: \", Math.round(weatherData.main.feels_like), \" \\xB0\\u0421\"), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, \"\\u0421\\u043A\\u043E\\u0440\\u043E\\u0441\\u0442\\u044C \\u0432\\u0435\\u0442\\u0440\\u0430: \", Math.round(weatherData.wind.speed), \" \\u043C/\\u0441\"))), React.createElement(CardActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: clsx(classes.expand, {\n      [classes.expandOpen]: expanded\n    }),\n    onClick: handleExpand,\n    \"aria-expanded\": expanded,\n    \"aria-label\": \"\\u0420\\u0430\\u0437\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(ExpandMoreIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(MoreHorizIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: () => {\n      setLoading(true); // fetchWeather();\n\n      setAnchorEl(null);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"), React.createElement(MenuItem, {\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u043F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0443\\u044E \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E\"), React.createElement(MenuItem, {\n    onClick: handleDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: \"#f44336\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")))));\n}","map":{"version":3,"sources":["/Users/vlad/Desktop/weather/src/WCard.js"],"names":["React","useState","useEffect","makeStyles","clsx","Card","CardContent","CardActions","Collapse","IconButton","Typography","ExpandMoreIcon","MoreHorizIcon","Menu","MenuItem","useStyles","theme","root","width","marginBottom","borderRadius","padding","expand","transform","transition","transitions","create","duration","shortest","expandOpen","fetchWeather","city","cityName","url","responce","fetch","data","json","setWeatherData","setUpdateTime","Date","toLocaleTimeString","setLoading","WCard","setCityName","weatherData","updateTime","anchorEl","setAnchorEl","expanded","setExpanded","loadind","classes","handleClick","event","currentTarget","handleClose","handleDelete","alert","name","handleExpand","console","log","Math","round","main","temp","process","env","PUBLIC_URL","weather","icon","description","charAt","toUpperCase","substring","temp_min","temp_max","feels_like","wind","speed","Boolean","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport './index.css';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: 345,\n    marginBottom: \"14%\",\n    borderRadius: 25,\n    padding: 10\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n}));\n\nasync function fetchWeather() {\n  const city = cityName;\n  const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n  city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n  const responce = await fetch(url);\n  const data = await responce.json();\n  setWeatherData(data);\n  setUpdateTime(new Date().toLocaleTimeString());\n  setLoading(false);\n}\nfetchWeather();\n\nexport default function WCard({city}) {\n  const [cityName, setCityName] = useState(city);\n  const [weatherData, setWeatherData] = useState({\n  \"coord\": {\n    \"lon\": 0,\n    \"lat\": 0\n  },\n  \"weather\": [\n    {\n      \"id\": 0,\n      \"main\": \"\",\n      \"description\": \"\",\n      \"icon\": \"\"\n    }\n  ],\n  \"base\": \"\",\n  \"main\": {\n    \"temp\": 0,\n    \"feels_like\": 0,\n    \"temp_min\": 0,\n    \"temp_max\": 0,\n    \"pressure\": 0,\n    \"humidity\": 0\n  },\n  \"visibility\": 0,\n  \"wind\": {\n    \"speed\": 0,\n    \"deg\": 0\n  },\n  \"clouds\": {\n    \"all\": 0\n  },\n  \"dt\": 0,\n  \"sys\": {\n    \"type\": 0,\n    \"id\": 0,\n    \"message\": 0,\n    \"country\": \"\",\n    \"sunrise\": 0,\n    \"sunset\": 0\n  },\n  \"timezone\": 0,\n  \"id\": 0,\n  \"name\": \"\",\n  \"cod\": 0\n});\n  const [updateTime, setUpdateTime] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [expanded, setExpanded] = useState(false);\n  const [loadind, setLoading] = useState(true);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetchWeather();\n  }, []);\n\n  // async function fetchWeather() {\n  //   const city = cityName;\n  //   const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n  //   city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n  //   const responce = await fetch(url);\n  //   const data = await responce.json();\n  //   setWeatherData(data);\n  //   setUpdateTime(new Date().toLocaleTimeString());\n  //   setLoading(false);\n  // }\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleDelete = () => {\n    setAnchorEl(null);\n    alert(weatherData.name);\n  };\n  const handleExpand = () => {\n    setExpanded(!expanded);\n  };\n\n  if (loadind)\n    return <div className=\"loader\"></div>;\n\n  return(\n    console.log(\"yes\"),\n    <Card className={classes.root}>\n    <CardContent>\n      <Typography variant=\"h5\">\n        {weatherData.name}\n      </Typography>\n      <div className=\"crutch\">\n        <Typography variant=\"h2\">\n          {Math.round(weatherData.main.temp)} °С\n        </Typography>\n        <img\n          className=\"image\"\n          // src={\"http://openweathermap.org/img/w/\" +\n          //   weatherData.weather[0].icon + \".png\"}\n          // src={require(\"./\" + weatherData.weather[0].icon + \".png\")}\n          src={process.env.PUBLIC_URL + '/'+ weatherData.weather[0].icon + '.png'}\n          alt={weatherData.weather.main}\n        />\n      </div>\n      <Typography>\n        {weatherData.weather[0].description.charAt(0).toUpperCase()\n          + weatherData.weather[0].description.substring(1)}\n      </Typography>\n      <Typography color=\"textSecondary\">\n        Время последнего обновления: {updateTime}\n      </Typography>\n    </CardContent>\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n      <CardContent>\n      <Typography>\n        Мин. t: {Math.round(weatherData.main.temp_min)} °С\n      </Typography>\n      <Typography>\n        Макс. t: {Math.round(weatherData.main.temp_max)} °С\n      </Typography>\n      <Typography>\n        Ощущается как: {Math.round(weatherData.main.feels_like)} °С\n      </Typography>\n      <Typography>\n        Скорость ветра: {Math.round(weatherData.wind.speed)} м/с\n      </Typography>\n      </CardContent>\n    </Collapse>\n      <CardActions>\n      <IconButton\n        className={clsx(classes.expand, {\n          [classes.expandOpen]: expanded,\n        })}\n        onClick={handleExpand}\n        aria-expanded={expanded}\n        aria-label=\"Развернуть\"\n      >\n        <ExpandMoreIcon />\n      </IconButton>\n        <IconButton onClick={handleClick}>\n          <MoreHorizIcon />\n        </IconButton>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n          >\n          <MenuItem onClick={() => {\n            setLoading(true);\n            // fetchWeather();\n            setAnchorEl(null);\n          }}>Обновить</MenuItem>\n            <MenuItem onClick={handleClose}>\n            Показать подробную информацию\n            </MenuItem>\n          <MenuItem onClick={handleDelete}><span style={{  color: \"#f44336\"  }}>Удалить</span></MenuItem>\n        </Menu>\n      </CardActions>\n\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}