{"ast":null,"code":"var _jsxFileName = \"/Users/vlad/Desktop/weather/src/Weather.js\";\nimport React, { useState, useEffect } from 'react';\nimport WeatherCard from './WeatherCard';\nimport Search from './Search';\nimport Box from '@material-ui/core/Box';\nimport Alert from '@material-ui/lab/Alert';\nexport default function Weather() {\n  const [cities, setCities] = useState([]);\n  useEffect(() => {\n    const keys = Object.keys(localStorage);\n    keys.map(key => setCities(cities => [...cities, localStorage.getItem(key)]));\n  }, []);\n\n  const remove = city => {\n    const index = cities.indexOf(city);\n\n    if (index > -1) {\n      cities.splice(index, 1);\n    }\n\n    setCities(cities => [...cities]);\n    localStorage.removeItem(JSON.stringify(city));\n  };\n\n  const add = city => {\n    if (!cities.includes(city)) {\n      setCities(cities => [...cities, city]);\n      localStorage.setItem(JSON.stringify(city), city);\n    } else alert(city.charAt(0).toUpperCase() + city.substring(1) + \" уже в списке\");\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Box, {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, cities.map(city => React.createElement(\"div\", {\n    key: JSON.stringify(city),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(WeatherCard, {\n    city: city,\n    remove: remove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }))), React.createElement(Search, {\n    add: add,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(Alert, {\n    severity: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"This is an error alert \\u2014 check it out!\"));\n}","map":{"version":3,"sources":["/Users/vlad/Desktop/weather/src/Weather.js"],"names":["React","useState","useEffect","WeatherCard","Search","Box","Alert","Weather","cities","setCities","keys","Object","localStorage","map","key","getItem","remove","city","index","indexOf","splice","removeItem","JSON","stringify","add","includes","setItem","alert","charAt","toUpperCase","substring"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYE,YAAZ,CAAb;AACAF,IAAAA,IAAI,CAACG,GAAL,CAASC,GAAG,IACRL,SAAS,CAACD,MAAM,IAAI,CAAC,GAAGA,MAAJ,EAAYI,YAAY,CAACG,OAAb,CAAqBD,GAArB,CAAZ,CAAX,CADb;AAID,GANQ,EAMN,EANM,CAAT;;AAQA,QAAME,MAAM,GAAIC,IAAD,IAAU;AACvB,UAAMC,KAAK,GAAGV,MAAM,CAACW,OAAP,CAAeF,IAAf,CAAd;;AACA,QAAIC,KAAK,GAAG,CAAC,CAAb,EAAgB;AACdV,MAAAA,MAAM,CAACY,MAAP,CAAcF,KAAd,EAAqB,CAArB;AACD;;AACDT,IAAAA,SAAS,CAACD,MAAM,IAAI,CAAC,GAAGA,MAAJ,CAAX,CAAT;AACAI,IAAAA,YAAY,CAACS,UAAb,CAAwBC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAxB;AACD,GAPD;;AASA,QAAMO,GAAG,GAAIP,IAAD,IAAU;AAClB,QAAG,CAACT,MAAM,CAACiB,QAAP,CAAgBR,IAAhB,CAAJ,EAA2B;AACzBR,MAAAA,SAAS,CAACD,MAAM,IAAI,CAAC,GAAGA,MAAJ,EAAYS,IAAZ,CAAX,CAAT;AACAL,MAAAA,YAAY,CAACc,OAAb,CAAqBJ,IAAI,CAACC,SAAL,CAAeN,IAAf,CAArB,EAA2CA,IAA3C;AACD,KAHD,MAIKU,KAAK,CAACV,IAAI,CAACW,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+BZ,IAAI,CAACa,SAAL,CAAe,CAAf,CAA/B,GAAmD,eAApD,CAAL;AACR,GAND;;AAQA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,QAAQ,EAAC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,MAAM,CAACK,GAAP,CAAWI,IAAI,IACd;AAAK,IAAA,GAAG,EAAIK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,WAAD;AACE,IAAA,IAAI,EAAIA,IADV;AAEE,IAAA,MAAM,EAAID,MAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADD,CADH,EAUE,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAIQ,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADA,EAaA,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAbA,CADF;AAiBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport WeatherCard from './WeatherCard';\nimport Search from './Search';\nimport Box from '@material-ui/core/Box';\nimport Alert from '@material-ui/lab/Alert';\n\nexport default function Weather() {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    const keys = Object.keys(localStorage);\n    keys.map(key => (\n        setCities(cities => [...cities, localStorage.getItem(key)])\n      )\n    )\n  }, []);\n\n  const remove = (city) => {\n    const index = cities.indexOf(city);\n    if (index > -1) {\n      cities.splice(index, 1);\n    }\n    setCities(cities => [...cities]);\n    localStorage.removeItem(JSON.stringify(city));\n  }\n\n  const add = (city) => {\n      if(!cities.includes(city)) {\n        setCities(cities => [...cities, city]);\n        localStorage.setItem(JSON.stringify(city), city);\n      }\n      else alert(city.charAt(0).toUpperCase() + city.substring(1) + \" уже в списке\");\n  }\n\n  return(\n    <div>\n    <Box display=\"flex\" flexWrap=\"wrap\">\n      {cities.map(city => (\n        <div key = {JSON.stringify(city)}>\n        <WeatherCard\n          city = {city}\n          remove = {remove}>\n        </WeatherCard>\n        </div>\n        )\n      )}\n      <Search add = {add}/>\n    </Box>\n    <Alert severity=\"error\">This is an error alert — check it out!</Alert>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}