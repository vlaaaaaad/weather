{"ast":null,"code":"var _jsxFileName = \"/Users/vlad/Desktop/weather/src/WeatherDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './index.css';\nimport Typography from '@material-ui/core/Typography';\nexport default function WeatherDetails(props) {\n  const [city, setCity] = useState(sessionStorage.getItem(\"0\"));\n  const [updateTime, setUpdateTime] = useState(null);\n  const [weatherData, setWeatherData] = useState({\n    \"coord\": {\n      \"lon\": 0,\n      \"lat\": 0\n    },\n    \"weather\": [{\n      \"id\": 0,\n      \"main\": \"\",\n      \"description\": \"\",\n      \"icon\": \"\"\n    }],\n    \"base\": \"\",\n    \"main\": {\n      \"temp\": 0,\n      \"feels_like\": 0,\n      \"temp_min\": 0,\n      \"temp_max\": 0,\n      \"pressure\": 0,\n      \"humidity\": 0\n    },\n    \"visibility\": 0,\n    \"wind\": {\n      \"speed\": 0,\n      \"deg\": 0\n    },\n    \"clouds\": {\n      \"all\": 0\n    },\n    \"dt\": 0,\n    \"sys\": {\n      \"type\": 0,\n      \"id\": 0,\n      \"message\": 0,\n      \"country\": \"\",\n      \"sunrise\": 0,\n      \"sunset\": 0\n    },\n    \"timezone\": 0,\n    \"id\": 0,\n    \"name\": \"\",\n    \"cod\": 0\n  });\n  useEffect(() => {\n    if (props.location.city) {\n      setCity(props.location.city);\n      sessionStorage.setItem(\"0\", props.location.city);\n    }\n\n    fetchWeather();\n  }, []);\n\n  async function fetchWeather() {\n    const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n    const responce = await fetch(url);\n    const data = await responce.json();\n    setWeatherData(data);\n    setUpdateTime(new Date().toLocaleTimeString());\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    className: \"Button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"), React.createElement(Typography, {\n    variant: \"h2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, weatherData.main.temp));\n}","map":{"version":3,"sources":["/Users/vlad/Desktop/weather/src/WeatherDetails.js"],"names":["React","useState","useEffect","Link","Typography","WeatherDetails","props","city","setCity","sessionStorage","getItem","updateTime","setUpdateTime","weatherData","setWeatherData","location","setItem","fetchWeather","url","responce","fetch","data","json","Date","toLocaleTimeString","main","temp"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,aAAP;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AAEA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC5C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAACQ,cAAc,CAACC,OAAf,CAAuB,GAAvB,CAAD,CAAhC;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC;AAC/C,aAAS;AACP,aAAO,CADA;AAEP,aAAO;AAFA,KADsC;AAK/C,eAAW,CACT;AACE,YAAM,CADR;AAEE,cAAQ,EAFV;AAGE,qBAAe,EAHjB;AAIE,cAAQ;AAJV,KADS,CALoC;AAa/C,YAAQ,EAbuC;AAc/C,YAAQ;AACN,cAAQ,CADF;AAEN,oBAAc,CAFR;AAGN,kBAAY,CAHN;AAIN,kBAAY,CAJN;AAKN,kBAAY,CALN;AAMN,kBAAY;AANN,KAduC;AAsB/C,kBAAc,CAtBiC;AAuB/C,YAAQ;AACN,eAAS,CADH;AAEN,aAAO;AAFD,KAvBuC;AA2B/C,cAAU;AACR,aAAO;AADC,KA3BqC;AA8B/C,UAAM,CA9ByC;AA+B/C,WAAO;AACL,cAAQ,CADH;AAEL,YAAM,CAFD;AAGL,iBAAW,CAHN;AAIL,iBAAW,EAJN;AAKL,iBAAW,CALN;AAML,gBAAU;AANL,KA/BwC;AAuC/C,gBAAY,CAvCmC;AAwC/C,UAAM,CAxCyC;AAyC/C,YAAQ,EAzCuC;AA0C/C,WAAO;AA1CwC,GAAD,CAA9C;AA6CAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGI,KAAK,CAACS,QAAN,CAAeR,IAAlB,EAAwB;AACtBC,MAAAA,OAAO,CAACF,KAAK,CAACS,QAAN,CAAeR,IAAhB,CAAP;AACAE,MAAAA,cAAc,CAACO,OAAf,CAAuB,GAAvB,EAA4BV,KAAK,CAACS,QAAN,CAAeR,IAA3C;AACD;;AACDU,IAAAA,YAAY;AACb,GANQ,EAMN,EANM,CAAT;;AAQA,iBAAeA,YAAf,GAA8B;AAC5B,UAAMC,GAAG,GAAG,uDACZX,IADY,GACL,8DADP;AAEA,UAAMY,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,UAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAR,IAAAA,cAAc,CAACO,IAAD,CAAd;AACAT,IAAAA,aAAa,CAAC,IAAIW,IAAJ,GAAWC,kBAAX,EAAD,CAAb;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAa,IAAA,SAAS,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EAEE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BX,WAAW,CAACY,IAAZ,CAAiBC,IAA3C,CAFF,CADF;AAMD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './index.css';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function WeatherDetails(props) {\n  const [city, setCity] = useState(sessionStorage.getItem(\"0\"));\n  const [updateTime, setUpdateTime] = useState(null);\n  const [weatherData, setWeatherData] = useState({\n  \"coord\": {\n    \"lon\": 0,\n    \"lat\": 0\n  },\n  \"weather\": [\n    {\n      \"id\": 0,\n      \"main\": \"\",\n      \"description\": \"\",\n      \"icon\": \"\"\n    }\n  ],\n  \"base\": \"\",\n  \"main\": {\n    \"temp\": 0,\n    \"feels_like\": 0,\n    \"temp_min\": 0,\n    \"temp_max\": 0,\n    \"pressure\": 0,\n    \"humidity\": 0\n  },\n  \"visibility\": 0,\n  \"wind\": {\n    \"speed\": 0,\n    \"deg\": 0\n  },\n  \"clouds\": {\n    \"all\": 0\n  },\n  \"dt\": 0,\n  \"sys\": {\n    \"type\": 0,\n    \"id\": 0,\n    \"message\": 0,\n    \"country\": \"\",\n    \"sunrise\": 0,\n    \"sunset\": 0\n  },\n  \"timezone\": 0,\n  \"id\": 0,\n  \"name\": \"\",\n  \"cod\": 0\n});\n\n  useEffect(() => {\n    if(props.location.city) {\n      setCity(props.location.city);\n      sessionStorage.setItem(\"0\", props.location.city);\n    }\n    fetchWeather();\n  }, []);\n\n  async function fetchWeather() {\n    const url = \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n    city + \"&lang=ru&units=metric&appid=5fc73283d7afc0b780eee68e8e3bb82b\";\n    const responce = await fetch(url);\n    const data = await responce.json();\n    setWeatherData(data);\n    setUpdateTime(new Date().toLocaleTimeString());\n  }\n\n  return (\n    <div>\n      <Link to=\"/\" className=\"Button\">Назад</Link>\n      <Typography variant=\"h2\">{weatherData.main.temp}</Typography>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}